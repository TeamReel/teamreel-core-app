# Template Manifest - Constitutional Synchronization Tracking
# Registry of all spec-kitty templates and their constitutional compliance status
# Part of TeamReel's SDD Constitutional Foundation & Enforcement system

metadata:
  version: "1.0.0"
  created: "2025-11-16T23:30:00Z"
  updated: "2025-11-16T23:30:00Z"
  constitutional_version: "001-sdd-constitutional-foundation"
  sync_policy: "automated"

# Constitutional Principles Version Tracking
constitutional_baseline:
  principles_version: "v1.0"
  rules_checksum: "sha256:placeholder_will_be_calculated"
  last_validation: "2025-11-16T23:30:00Z"
  compliance_level: "strict"

# Core spec-kitty templates tracked for constitutional compliance
templates:
  
  # Command Templates
  commands:
    implement:
      path: ".github/prompts/spec-kitty.implement.prompt.md"
      constitutional_version: "v1.0"
      last_sync: "2025-11-16T23:30:00Z"
      drift_status: "in_sync"
      checksum: "sha256:placeholder"
      constitutional_requirements:
        - "SRP: Single implementation responsibility per prompt"
        - "Maintainability: Clear workflow documentation"
        - "Simplicity: YAGNI-focused task execution"
      customizations_preserved: []
      
    review:
      path: ".github/prompts/spec-kitty.review.prompt.md"
      constitutional_version: "v1.0"
      last_sync: "2025-11-16T23:30:00Z"
      drift_status: "in_sync"
      checksum: "sha256:placeholder"
      constitutional_requirements:
        - "SRP: Single review responsibility"
        - "Maintainability: Comprehensive feedback structure"
        - "Defensibility: Security-aware code review"
      customizations_preserved: []

    tasks:
      path: ".github/prompts/spec-kitty.tasks.prompt.md"
      constitutional_version: "v1.0"
      last_sync: "2025-11-16T23:30:00Z"
      drift_status: "pending_sync"
      checksum: "sha256:placeholder"
      constitutional_requirements:
        - "SRP: Task breakdown single responsibility"
        - "Reusability: Common task pattern templates"
        - "Maintainability: Clear dependency tracking"
      customizations_preserved: []

  # Project Structure Templates
  project_templates:
    feature_spec:
      path: ".kittify/templates/spec-template.md"
      constitutional_version: "v1.0"
      last_sync: "2025-11-16T23:30:00Z"
      drift_status: "in_sync"
      checksum: "sha256:placeholder"
      constitutional_requirements:
        - "SRP: Clear feature scope definition"
        - "Encapsulation: Well-defined interfaces"
        - "Portability: Cross-platform considerations"
      customizations_preserved: []

    plan_template:
      path: ".kittify/templates/plan-template.md"
      constitutional_version: "v1.0"
      last_sync: "2025-11-16T23:30:00Z"
      drift_status: "in_sync"
      checksum: "sha256:placeholder"
      constitutional_requirements:
        - "SRP: Planning single responsibility"
        - "Maintainability: Implementation guidance"
        - "Simplicity: Essential planning elements only"
      customizations_preserved: []

    data_model_template:
      path: ".kittify/templates/data-model-template.md"
      constitutional_version: "v1.0"
      last_sync: "2025-11-16T23:30:00Z"
      drift_status: "needs_sync"
      checksum: "sha256:placeholder"
      constitutional_requirements:
        - "Encapsulation: Data access patterns"
        - "Loose_Coupling: Interface-based design"
        - "Reusability: Common entity patterns"
      customizations_preserved: ["custom_entity_fields", "validation_patterns"]

  # Configuration Templates
  config_templates:
    quality_gates:
      path: ".kittify/config/quality_gates.yaml"
      constitutional_version: "v1.0"
      last_sync: "2025-11-16T23:30:00Z"
      drift_status: "in_sync"
      checksum: "sha256:placeholder"
      constitutional_requirements:
        - "Defensibility: Security quality gates"
        - "Maintainability: Test coverage requirements"
        - "Simplicity: Essential quality metrics only"
      customizations_preserved: ["custom_thresholds"]

    se_rules:
      path: ".kittify/config/se_rules.yaml"
      constitutional_version: "v1.0"
      last_sync: "2025-11-16T23:30:00Z"
      drift_status: "in_sync"
      checksum: "sha256:placeholder"
      constitutional_requirements:
        - "Maintainability: Rule documentation"
        - "Reusability: Common rule patterns"
        - "Defensibility: Security rule enforcement"
      customizations_preserved: ["project_specific_rules"]

# Synchronization Configuration
sync_config:
  auto_sync_enabled: true
  sync_interval: "daily"
  drift_detection_enabled: true
  drift_tolerance: "minor"
  backup_before_sync: true
  notification_channels: ["activity_log", "git_commit"]
  
  # Sync strategies per template type
  sync_strategies:
    commands: "merge_preserving_customizations"
    project_templates: "update_with_manual_review"
    config_templates: "careful_merge_with_validation"

# Drift Detection Configuration
drift_detection:
  enabled: true
  check_frequency: "on_constitutional_update"
  sensitivity: "medium"
  auto_fix_minor: true
  manual_review_major: true
  
  # What constitutes drift
  drift_indicators:
    - "constitutional_requirements_change"
    - "template_structure_modification"
    - "se_principles_version_update"
    - "quality_gate_threshold_change"

# Template Validation Rules
validation:
  strict_mode: true
  validate_on_sync: true
  validation_rules:
    - "constitutional_compliance_check"
    - "se_principles_adherence" 
    - "template_structure_integrity"
    - "customization_preservation"
    - "cross_platform_compatibility"

# Statistics and Monitoring
statistics:
  total_templates_tracked: 8
  templates_in_sync: 6
  templates_pending_sync: 1
  templates_needing_sync: 1
  last_full_sync: "2025-11-16T23:30:00Z"
  sync_success_rate: "100%"
  average_drift_detection_time: "< 1 hour"
  
# Audit Trail
audit_log:
  - timestamp: "2025-11-16T23:30:00Z"
    action: "manifest_created"
    agent: "GitHub-Copilot"
    constitutional_version: "001-sdd-constitutional-foundation"
    details: "Initial template manifest created with 8 tracked templates"